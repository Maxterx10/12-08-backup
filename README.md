# Домашнее задание к занятию "`12.8. Репликация и масштабирование. Часть 2`" - `Белов Максим`


### Задание 1

1. В финансовой компании, если это не банк, существует окно для холодного резервирования ночью. Можно делать полный или дифференциальный бэкап. Если нет жесткого ограничения дискового пространства, можно делать ежедневные полные бэкапы, так как они надежнее.  
2. Как и в первом случае, можно делать полное холодное резервирование по ночам. Но в дополнении к этому нужны более частые бэкапы, которые уже будут сделаны на горячую. Инкрементные бэкапы раз в час подходят для этого. А для увеличения надежности можно делать дифференциальный бэкап раз в 4-5 часов.

В любом случае на стратегию резервирования будет влиять множество факторов.

---

### Задание 2

```bash
#сделать копию
$ pg_dump mydb > db.sql
#восстановить копию в новую БД
$ pg_restore -d newdb db.sql
#восстановить копию в базу, с которой она была сделана, с очисткой текущего содержимого
$ pg_restore -d postgres --clean --create db.sql
```
---

### Задание 3

```bash
#сделать инкрементный бекап
$ mysqlbackup --defaults-file=/home/dbadmin/my.cnf \
  --incremental --incremental-base=history:last_backup \
  --backup-dir=/home/dbadmin/temp_dir \
  --backup-image=incremental_image1.bi \
   backup-to-image
```
